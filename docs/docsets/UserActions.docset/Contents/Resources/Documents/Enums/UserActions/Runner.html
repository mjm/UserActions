<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Runner Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../../js/jquery.min.js" defer></script>
    <script src="../../js/jazzy.js" defer></script>
    
    <script src="../../js/lunr.min.js" defer></script>
    <script src="../../js/typeahead.jquery.js" defer></script>
    <script src="../../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Class/Runner" class="dashAnchor"></a>

    <a title="Runner Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../../index.html">
          UserActions Docs
        </a>
         (91% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="../../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/mjm/UserActions">
            <img class="header-icon" src="../../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../../index.html">UserActions Reference</a>
      <img class="carat" src="../../img/carat.png" />
      Runner Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Defining%20Actions.html">Defining Actions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/UserAction.html">UserAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/SimpleUserAction.html">SimpleUserAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/SyncUserAction.html">SyncUserAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Defining%20Actions.html#/s:11UserActions08ReactiveA6ActionP">ReactiveUserAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/DestructiveUserAction.html">DestructiveUserAction</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Performing%20Actions.html">Performing Actions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/UserActions.html">UserActions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/UserActions/Source.html">– Source</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/UserActions/Context.html">– Context</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/UserActions/ContextKey.html">– ContextKey</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/UserActions/Runner.html">– Runner</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/UserActionPresenter.html">UserActionPresenter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Protocols/UserActionRunnerDelegate.html">UserActionRunnerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Enums/UserActionError.html">UserActionError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../../Using%20Actions%20in%20UI.html">Using Actions in UI</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Structs/BoundUserAction.html">BoundUserAction</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Structs/BoundUserActionOptions.html">BoundUserActionOptions</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../../Extensions/UICommand.html">UICommand</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            <h1>Runner</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Runner</span></code></pre>

                </div>
              </div>
            <p>A runner that performs user actions in a particular context of the app.</p>

<p>A <code><a href="../../Protocols/UserAction.html">UserAction</a></code> does not get performed directly. It describes how to perform an action, but it
does not actually do so until an action runner performs it.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11UserActionsAAO6RunnerC9presenterAdA0A15ActionPresenter_pSg_tcfc"></a>
                    <a name="//apple_ref/swift/Method/init(presenter:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11UserActionsAAO6RunnerC9presenterAdA0A15ActionPresenter_pSg_tcfc">init(presenter:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create a new action runner.</p>

<p>Each screen or view controller in the app will usually have its own action runner. This allows
actions to present errors, alerts, or other view controllers appropriately for the context where
the action is running.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">presenter</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/UserActionPresenter.html">UserActionPresenter</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>presenter</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The presenter for actions that this runner performs. Can be provided
later by setting the <code><a href="../../Enums/UserActions/Runner.html#/s:11UserActionsAAO6RunnerC9presenterAA0A15ActionPresenter_pSgvp">presenter</a></code> property.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11UserActionsAAO6RunnerC7perform_6source11willPerform7Combine12AnyPublisherVy10ResultTypeQzs5Error_pGx_AB6SourceOSgyyctAA0A6ActionRzlF"></a>
                    <a name="//apple_ref/swift/Method/perform(_:source:willPerform:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11UserActionsAAO6RunnerC7perform_6source11willPerform7Combine12AnyPublisherVy10ResultTypeQzs5Error_pGx_AB6SourceOSgyyctAA0A6ActionRzlF">perform(_:source:willPerform:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Performs an action using this runner.</p>

<p>The runner will possibly check with the user to confirm the action. The runner&rsquo;s delegate
can hook into the action&rsquo;s lifecycle to provide common functionality to actions, like undo
management or persistence.</p>

<p>The runner will also set some fields on the current <code>Event</code>, and will send the event when
the action completes. Your action can add fields to the current event as well to include
richer data in the action events.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@discardableResult</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="n">perform</span><span class="o">&lt;</span><span class="kt">Action</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/UserAction.html">UserAction</a></span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">action</span><span class="p">:</span> <span class="kt">Action</span><span class="p">,</span>
    <span class="nv">source</span><span class="p">:</span> <span class="kt"><a href="../../Enums/UserActions/Source.html">Source</a></span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
    <span class="nv">willPerform</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="o">=</span> <span class="p">{}</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">AnyPublisher</span><span class="o">&lt;</span><span class="kt">Action</span><span class="o">.</span><span class="kt">ResultType</span><span class="p">,</span> <span class="kt">Error</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>action</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The action to perform.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>source</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An optional UI source to control how the action presents view controllers.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>willPerform</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that will be called before the action is performed. If the
action isn&rsquo;t performed for some reason (e.g. if the user was prompted to confirm and
chose to cancel), <code>willPerform</code> will not be called.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A publisher that, when the action has completed, will send the action&rsquo;s result
and then complete, possibly with an error if the action failed. If this publisher is subscribed to
after the action has already completed, it will still receive these events: they will be replayed
as though they happened at the time of subscription.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11UserActionsAAO6RunnerC9presenterAA0A15ActionPresenter_pSgvp"></a>
                    <a name="//apple_ref/swift/Property/presenter" class="dashAnchor"></a>
                    <a class="token" href="#/s:11UserActionsAAO6RunnerC9presenterAA0A15ActionPresenter_pSgvp">presenter</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A context for presenting view controllers and alerts from actions performed by this runner.</p>

<p>The presenter is usually the view controller that is triggering the actions.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">presenter</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/UserActionPresenter.html">UserActionPresenter</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11UserActionsAAO6RunnerC8delegateAA0a6ActionC8Delegate_pSgvp"></a>
                    <a name="//apple_ref/swift/Property/delegate" class="dashAnchor"></a>
                    <a class="token" href="#/s:11UserActionsAAO6RunnerC8delegateAA0a6ActionC8Delegate_pSgvp">delegate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A delegate that can hook into the lifecycle of actions performed by this runner.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">weak</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/UserActionRunnerDelegate.html">UserActionRunnerDelegate</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11UserActionsAAO6RunnerC8delegateAA0a6ActionC8Delegate_pSgvpZ"></a>
                    <a name="//apple_ref/swift/Variable/delegate" class="dashAnchor"></a>
                    <a class="token" href="#/s:11UserActionsAAO6RunnerC8delegateAA0a6ActionC8Delegate_pSgvpZ">delegate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A global, app-wide delegate for all user action runners.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">static</span> <span class="k">var</span> <span class="nv">delegate</span><span class="p">:</span> <span class="kt"><a href="../../Protocols/UserActionRunnerDelegate.html">UserActionRunnerDelegate</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2019 <a class="link" href="https://www.mattmoriarity.com/" target="_blank" rel="external">Matt Moriarity</a>. All rights reserved. (Last updated: 2019-11-09)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.11.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
